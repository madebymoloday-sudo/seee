# Инструкция по настройке уведомлений об обратной связи

## Настройка Email уведомлений

### Вариант 1: Gmail (рекомендуется)

1. **Включите двухфакторную аутентификацию** в вашем Google аккаунте (если ещё не включена)

2. **Создайте пароль приложения:**
   - Перейдите на https://myaccount.google.com/apppasswords
   - Выберите "Почта" и "Другое устройство"
   - Введите название: "SEEE Feedback"
   - Скопируйте сгенерированный 16-символьный пароль

3. **Добавьте переменные в Railway:**
   - `SMTP_SERVER` = `smtp.gmail.com`
   - `SMTP_PORT` = `587`
   - `SMTP_USER` = `madebymoloday@gmail.com`
   - `SMTP_PASSWORD` = `<16-символьный пароль приложения>`
   - `FEEDBACK_EMAIL` = `madebymoloday@gmail.com`

### Вариант 2: Другой почтовый сервис

Если используете другой почтовый сервис, укажите соответствующие настройки:
- `SMTP_SERVER` - адрес SMTP сервера
- `SMTP_PORT` - порт (обычно 587 для TLS или 465 для SSL)
- `SMTP_USER` - ваш email
- `SMTP_PASSWORD` - пароль или пароль приложения
- `FEEDBACK_EMAIL` - email для получения уведомлений

## Настройка Telegram уведомлений

### Шаг 1: Создание бота

1. Откройте Telegram и найдите бота [@BotFather](https://t.me/botfather)

2. Отправьте команду `/newbot`

3. Следуйте инструкциям:
   - Введите имя бота (например: "SEEE Feedback Bot")
   - Введите username бота (должен заканчиваться на `bot`, например: `seee_feedback_bot`)

4. **Скопируйте токен бота** (выглядит как `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### Шаг 2: Получение Chat ID

1. **Способ 1: Через бота [@userinfobot](https://t.me/userinfobot)**
   - Найдите бота [@userinfobot](https://t.me/userinfobot)
   - Начните с ним диалог
   - Он покажет ваш Chat ID (число, например: `123456789`)

2. **Способ 2: Через вашего бота**
   - Начните диалог с вашим ботом
   - Отправьте любое сообщение
   - Откройте в браузере: `https://api.telegram.org/bot<ВАШ_ТОКЕН>/getUpdates`
   - Найдите `"chat":{"id":123456789}` - это ваш Chat ID

### Шаг 3: Добавление переменных в Railway

Добавьте следующие переменные окружения в Railway:

- `TELEGRAM_BOT_TOKEN` = `<токен бота из BotFather>`
- `TELEGRAM_CHAT_ID` = `<ваш Chat ID>`

## Проверка работы

После настройки всех переменных:

1. Railway автоматически перезапустит приложение
2. Отправьте тестовую обратную связь через форму на сайте
3. Проверьте:
   - Email на `madebymoloday@gmail.com`
   - Telegram сообщение в вашем чате

## Важные замечания

- **Email:** Если используете Gmail, обязательно используйте пароль приложения, а не обычный пароль аккаунта
- **Telegram:** Бот должен быть запущен (отправьте `/start` боту перед использованием)
- **Безопасность:** Никогда не публикуйте токены и пароли в открытом доступе
- Если уведомления не приходят, проверьте логи Railway на наличие ошибок

## Примеры значений для Railway

```
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=madebymoloday@gmail.com
SMTP_PASSWORD=abcd efgh ijkl mnop
FEEDBACK_EMAIL=madebymoloday@gmail.com
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=123456789
```

**Примечание:** В `SMTP_PASSWORD` для Gmail пароль приложения может содержать пробелы - это нормально, просто скопируйте его как есть.


