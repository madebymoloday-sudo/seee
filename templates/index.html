<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI –ü—Å–∏—Ö–æ–ª–æ–≥</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Å–µ—Å—Å–∏—è–º–∏ -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <button class="btn-new-chat" id="newChatBtn">
                    <span>+</span> –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è
                </button>
                <button class="btn-map" id="mapBtn">
                    üó∫Ô∏è –ö–∞—Ä—Ç–∞ –Ω–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è
                </button>
            </div>
            
            <div class="sessions-list" id="sessionsList">
                <!-- –°–µ—Å—Å–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
            
            <div class="sidebar-footer">
                <button class="btn-download" id="downloadDocBtn">–°–∫–∞—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</button>
                <button class="btn-cabinet" id="cabinetBtn">üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</button>
                <a href="/logout" class="btn-logout">–í—ã–π—Ç–∏</a>
            </div>
        </aside>
        
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
        <main class="chat-container">
            <div class="chat-header">
                <h2 id="chatTitle">–ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è</h2>
                <button class="btn-pause-session" id="pauseSessionBtn" style="display: none;">
                    ‚è∏Ô∏è –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏—é
                </button>
            </div>
            
            <div class="messages-container" id="messagesContainer">
                <div class="welcome-message">
                    <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
                    <p>–Ø –≤–∞—à AI-–ø—Å–∏—Ö–æ–ª–æ–≥, –∏ —è –∏—Å–ø–æ–ª—å–∑—É—é <strong>–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–∞–±–æ—Ç—ã</strong>, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≥–ª—É–±–∂–µ –ø–æ–Ω—è—Ç—å –≤–∞—à–∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è.</p>
                    
                    <div class="info-section">
                        <h4>–ß—Ç–æ –≤–∞—Å –∂–¥–µ—Ç:</h4>
                        <p>–Ø –±—É–¥—É –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–æ–±—ã—á–Ω—ã–º–∏, –Ω–æ –æ–Ω–∏ –ø–æ–º–æ–≥—É—Ç –Ω–∞–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å "—Å–∏—Å—Ç–µ–º—É —É–±–µ–∂–¥–µ–Ω–∏–π" –≤–∞—à–∏—Ö –∏–¥–µ–π –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.</p>
                    </div>
                    
                    <div class="info-section">
                        <h4>–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è, –∫–æ—Ç–æ—Ä—É—é –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h4>
                        <ul>
                            <li><strong>–ò–¥–µ—è</strong> - —ç—Ç–æ –ª—é–±–æ–µ —É–±–µ–∂–¥–µ–Ω–∏–µ, –º—ã—Å–ª—å –∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —É –≤–∞—Å –µ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—è –Ω–µ–∫—Ä–∞—Å–∏–≤–∞—è", "—è –Ω–µ—É–¥–∞—á–Ω–∏–∫", "–º–µ–Ω—è –Ω–∏–∫—Ç–æ –Ω–µ –ª—é–±–∏—Ç")</li>
                            <li><strong>–°–∏—Å—Ç–µ–º–∞ —É–±–µ–∂–¥–µ–Ω–∏–π</strong> - —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è –∏–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç –≤–∞—à–∞ –∏–¥–µ—è, –æ—Ç–∫—É–¥–∞ –æ–Ω–∞ –≤–∑—è–ª–∞—Å—å –∏ –∫–∞–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏–º–µ–µ—Ç</li>
                            <li><strong>–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å –∏–¥–µ–∏</strong> - —á–µ–ª–æ–≤–µ–∫ (–∏–ª–∏ –æ–±—â–µ—Å—Ç–≤–æ, –∏–ª–∏ –¥–∞–∂–µ –≤—ã —Å–∞–º–∏), –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª–æ –≤—ã–≥–æ–¥–Ω–æ, —á—Ç–æ–±—ã —Ç–∞–∫–∞—è –∏–¥–µ—è —É –≤–∞—Å –ø–æ—è–≤–∏–ª–∞—Å—å</li>
                            <li><strong>–¶–µ–ª—å –ø–æ—è–≤–ª–µ–Ω–∏—è –∏–¥–µ–∏</strong> - –∑–∞—á–µ–º —ç—Ç–∞ –∏–¥–µ—è –±—ã–ª–∞ "–ø–æ—Å–µ–ª–µ–Ω–∞" –≤ –≤–∞—à—É –≥–æ–ª–æ–≤—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è, –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –∑–∞—â–∏—Ç–∞)</li>
                            <li><strong>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è</strong> - –∫–∞–∫ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–π –∏–¥–µ–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É –∂–∏–∑–Ω—å (—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏)</li>
                        </ul>
                    </div>
                    
                    <p class="reassurance">–ù–µ –ø—É–≥–∞–π—Ç–µ—Å—å —ç—Ç–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ - —è –±—É–¥—É –æ–±—ä—è—Å–Ω—è—Ç—å –ø–æ —Ö–æ–¥—É —Ä–∞–±–æ—Ç—ã. –ü—Ä–æ—Å—Ç–æ –±—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –∏ —á–µ—Å—Ç–Ω—ã —Å–æ –º–Ω–æ–π.</p>
                    <p>–ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥, –Ω–∞–ø–∏—Å–∞–≤ –º–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∏–∂–µ.</p>
                </div>
            </div>
            
            <div class="input-container">
                <form id="messageForm">
                    <textarea 
                        id="messageInput" 
                        placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                        rows="1"
                        autocomplete="off"></textarea>
                    <button type="button" class="btn-send" id="sendBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </form>
            </div>
        </main>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ -->
    <div id="cabinetModal" class="modal">
        <div class="modal-content cabinet-modal">
            <div class="modal-header">
                <h2>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
                <button class="modal-close" id="closeCabinet">&times;</button>
            </div>
            <div class="modal-body">
                <div class="cabinet-tabs">
                    <button class="tab-btn active" data-tab="referrals">–†–µ—Ñ–µ—Ä–∞–ª—ã</button>
                    <button class="tab-btn" data-tab="balance">–ë–∞–ª–∞–Ω—Å</button>
                    <button class="tab-btn" data-tab="payment">–†–µ–∫–≤–∏–∑–∏—Ç—ã</button>
                    <button class="tab-btn" data-tab="journal">–ñ—É—Ä–Ω–∞–ª —Å–µ—Å—Å–∏–π</button>
                    <button class="tab-btn" data-tab="thoughts">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º—ã—Å–ª–∏</button>
                    <button class="tab-btn" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –†–µ—Ñ–µ—Ä–∞–ª—ã -->
                <div class="tab-content active" id="tab-referrals">
                    <div class="cabinet-section">
                        <h3>–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞</h3>
                        <div class="referral-link-box">
                            <input type="text" id="referralLink" readonly>
                            <button class="btn-copy" id="copyReferralLink">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                        <p class="info-text">–í–∞—à ID: <strong id="userIdDisplay"></strong></p>
                        <p class="info-text">–í–∞—à —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥: <strong id="referralCodeDisplay"></strong></p>
                    </div>
                    
                    <div class="cabinet-section">
                        <h3>–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</h3>
                        <div id="referralsTree"></div>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –ë–∞–ª–∞–Ω—Å -->
                <div class="tab-content" id="tab-balance">
                    <div class="cabinet-section">
                        <h3>–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</h3>
                        <div class="balance-display">
                            <span class="balance-amount" id="balanceAmount">0.00</span>
                            <span class="balance-currency">‚ÇΩ</span>
                        </div>
                    </div>
                    
                    <div class="cabinet-section">
                        <h3>–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</h3>
                        <div id="transactionsList"></div>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –†–µ–∫–≤–∏–∑–∏—Ç—ã -->
                <div class="tab-content" id="tab-payment">
                    <form id="paymentDetailsForm">
                        <div class="form-group">
                            <label>–§–ò–û *</label>
                            <input type="text" id="fullName" required>
                        </div>
                        <div class="form-group">
                            <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                            <input type="tel" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è *</label>
                            <input type="date" id="birthDate" required>
                        </div>
                        <div class="form-group">
                            <label>–ò–ù–ù *</label>
                            <input type="text" id="inn" required>
                        </div>
                        <div class="form-group">
                            <label>–§–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã *</label>
                            <select id="paymentForm" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º—É</option>
                                <option value="self_employed">–°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π</option>
                                <option value="ip">–ò–ü</option>
                                <option value="ooo">–û–û–û</option>
                            </select>
                        </div>
                        
                        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º—ã –æ–ø–ª–∞—Ç—ã -->
                        <div id="paymentDetailsFields"></div>
                        
                        <button type="submit" class="btn-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</button>
                    </form>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –ñ—É—Ä–Ω–∞–ª —Å–µ—Å—Å–∏–π -->
                <div class="tab-content" id="tab-journal">
                    <div class="cabinet-section">
                        <h3>–ñ—É—Ä–Ω–∞–ª —Å–µ—Å—Å–∏–π</h3>
                        <div id="journalList">
                            <!-- –ó–∞–ø–∏—Å–∏ –∂—É—Ä–Ω–∞–ª–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º—ã—Å–ª–∏ -->
                <div class="tab-content" id="tab-thoughts">
                    <div class="cabinet-section">
                        <h3>–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º—ã—Å–ª–∏</h3>
                        <button class="btn-add-thought" id="addThoughtBtn">+ –î–æ–±–∞–≤–∏—Ç—å –º—ã—Å–ª—å</button>
                        <div id="thoughtsList">
                            <!-- –ú—ã—Å–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="tab-content" id="tab-settings">
                    <div class="cabinet-section">
                        <h3>–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h3>
                        <select id="languageSelect">
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                            <option value="en">English</option>
                        </select>
                        <button class="btn-save" id="saveLanguage">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cabinet.js') }}"></script>
</body>
</html>

